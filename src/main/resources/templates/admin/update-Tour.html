<!DOCTYPE html>
<html xmlns:th="http://www/thymeleaf.org">
<head th:replace="admin/fragments/head :: head"></head>
<script src="/assets/js/updateTour.js"></script>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

  <header th:replace="admin/fragments/header :: header"></header>

  <aside th:replace="admin/fragments/sidebar :: sidebar"></aside>
  <div class="content-wrapper">
    <section class="content-header">
      <h1>
        Quản lý thông tin Tour du lịch
      </h1>
    </section>

    <section class="content">

      <div class="col-md-8">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Cập nhật thông tin Tour du lịch</h3>
          </div>
          <form role="form" id="updateTour">
            <div class="box-body">
              <div class="form-group">
                <label for="typeTour">Loại Tour</label>
                <input type="text" class="form-control" id="typeTour" name="typeTour" required >
              </div>
              <div class="form-group">
                <label for="address">Địa điểm</label>
                <input type="text" class="form-control" id="address" name="address" required>
              </div>
              <div class="form-group">
                <label for="titleTour">Tiêu đề</label>
                <input type="text" class="form-control" id="titleTour" name="titleTour" required>
              </div>
              <div class="form-group">
                <label for="rateStar">Số Sao</label>
                <input type="text" class="form-control" id="rateStar" name="rateStar" required>
              </div>
              <div class="form-group">
                <label for="quantityComment">Đánh giá</label>
                <input type="text" class="form-control" id="quantityComment" name="quantityComment" required>
              </div>
              <div class="form-group">
                <label for="booked">Đã đặt</label>
                <input type="text" class="form-control" id="booked" name="booked" required>
              </div>
              <div class="form-group">
                <label for="price">Giá</label>
                <input type="text" class="form-control" id="price" name="price" required>
              </div>
              <div class="form-group">
                <label for="highlight">Đặc điểm</label>
                <textarea type="text" class="form-control" id="highlight" name="highlight" required></textarea>
              </div>
              <div class="form-group">
                <label for="content">Nội dung</label>
                <textarea type="text" class="form-control" id="content" name="content" required></textarea>
              </div>
            </div>
            <div class="box-footer">
              <button type="submit" class="btn btn-primary" >Cập nhật</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </div>

  <footer th:replace="admin/fragments/footer :: footer"></footer>

</div>
<script>
  document.getElementById('price').addEventListener('input', function(e) {
    let value = e.target.value;

    // Xóa các ký tự không phải số và dấu chấm
    value = value.replace(/[^0-9]/g, '');

    let formattedValue = new Intl.NumberFormat('vi-VN').format(value);

    e.target.value = formattedValue;
  });

  // Khi submit form
  document.getElementById('updateTour').addEventListener('submit', function(e) {
    e.preventDefault();

    let priceInput = document.getElementById('price').value;

    let priceWithoutDots = priceInput.replace(/\./g, '');

    document.getElementById('price').value = priceWithoutDots;

  });
</script>
</body>
</html>
